/* Fonts - must be first */
@import url("https://fonts.googleapis.com/css2?family=Inter:wght@100;400;500;600&display=swap");

@import "tailwindcss";
@plugin "daisyui";

/* Self-hosted Source Code Pro (mono) */
@font-face {
  font-family: "Source Code Pro";
  src: url("/fonts/source-code-pro/SourceCodePro-Regular.woff2") format("woff2");
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: "Source Code Pro";
  src: url("/fonts/source-code-pro/SourceCodePro-Medium.woff2") format("woff2");
  font-weight: 500;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: "Source Code Pro";
  src: url("/fonts/source-code-pro/SourceCodePro-SemiBold.woff2")
    format("woff2");
  font-weight: 600;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: "Source Code Pro";
  src: url("/fonts/source-code-pro/SourceCodePro-Bold.woff2") format("woff2");
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

/* HomePA Theme Extension */
@theme {
  /* === Core Brand / Interaction Colors === */
  /* Primary — Neptune */
  --color-primary: #7bbebb;
  --color-primary-100: #e6f3f2;
  --color-primary-400: #9ed1cf;
  --color-primary-600: #7bbebb;
  --color-primary-800: #4e8f8c;

  /* Soft Surface / Tint — Surf Crest */
  --color-surface-50: #f4faf6;
  --color-surface-100: #cee3d3;
  --color-surface-200: #b6d6c1;

  /* Semantic Positive — Jungle Green */
  --color-success-100: #e6f7f1;
  --color-success-500: #2ab388;
  --color-success-700: #1e8a69;

  /* === Neutral System === */
  /* Backgrounds */
  --color-bg-app: #ffffff;
  --color-bg-surface: #f6f7f8;
  --color-bg-grid: #fafafa;

  /* Text */
  --color-text-primary: #1f2937;
  --color-text-secondary: #6b7280;
  --color-text-muted: #9ca3af;

  /* Borders / Dividers */
  --color-border-default: #e5e7eb;
  --color-border-strong: #d1d5db;

  /* === Semantic Colors === */
  /* Error / Conflict */
  --color-error-100: #fee2e2;
  --color-error-500: #dc2626;

  /* Warning */
  --color-warning-100: #fef3c7;
  --color-warning-500: #f59e0b;

  /* === Interaction States === */
  --color-hover: var(--color-primary-400);
  --color-active: var(--color-primary-800);
  --color-focus: var(--color-primary-600);

  /* === Event Category Colors === */
  /* (User customizable, separate from core system) */
  --color-event-blue: #4a9eff;
  --color-event-orange: #f7a700;
  --color-event-green: #99c66d;
  --color-event-yellow: #f9e900;

  /* === Layout === */
  --bottom-nav-height: 60px;

  /* === Typography === */
  /* Primary/UI: Source Code Pro (UI コンポーネント、ラベル、メタデータ) */
  --font-primary: "Source Code Pro", "SF Mono", Monaco, Consolas, monospace;
  /* Mono: Source Code Pro */
  --font-mono: "Source Code Pro", "SF Mono", Monaco, Consolas, monospace;
  /* Fallback */
  --font-fallback: "Inter", system-ui, -apple-system, sans-serif;

  /* === Spacing Scale (8px base) === */
  --space-xs: 6px;
  --space-sm: 8px;
  --space-md: 10px;
  --space-base: 12px;
  --space-lg: 16px;
  --space-xl: 18px;
  --space-xxl: 24px;
  --space-xxxl: 32px;
  --space-huge: 48px;

  /* === Border Radius === */
  --radius-xs: 4px;
  --radius-sm: 6px;
  --radius-md: 8px;
  --radius-lg: 12px;
  --radius-xl: 24px;
  --radius-full: 100px;

  /* === Z-Index === */
  --z-modal: 2100;
  --z-nav: 2000;
  --z-suggestion: 1000;
  --z-settings: 500;

  /* === DaisyUI v5 Theme Mapping === */
  /* Maps DaisyUI semantic classes to custom palette */

  /* Primary — Neptune */
  --color-primary: #7bbebb;
  --color-primary-content: #ffffff;

  /* Secondary — Surf Crest */
  --color-secondary: #cee3d3;
  --color-secondary-content: #1f2937;

  /* Accent — Primary (Neptune) */
  --color-accent: #7bbebb;
  --color-accent-content: #ffffff;

  /* Neutral */
  --color-neutral: #1f2937;
  --color-neutral-content: #ffffff;

  /* Base colors */
  --color-base-100: #ffffff;
  --color-base-200: #f6f7f8;
  --color-base-300: #e5e7eb;
  --color-base-content: #1f2937;

  /* Success — Jungle Green */
  --color-success: #2ab388;
  --color-success-content: #ffffff;

  /* Warning */
  --color-warning: #f59e0b;
  --color-warning-content: #1f2937;

  /* Error */
  --color-error: #dc2626;
  --color-error-content: #ffffff;

  /* Info — Neptune */
  --color-info: #7bbebb;
  --color-info-content: #ffffff;
}

@media (min-width: 768px) {
  :root {
    --bottom-nav-height: 80px;
  }
}

/* Base styles */
html,
body {
  height: 100%;
  overflow: hidden;
  font-family: var(--font-primary), var(--font-fallback);
  background: var(--color-bg-app);
  color: var(--color-text-primary);
  /* Typography defaults */
  font-size: 14px;
  line-height: 1.5;
  font-weight: 400;
}

/* Utility classes for font families */
.font-primary {
  font-family: var(--font-primary), var(--font-fallback);
}

.font-mono {
  font-family: var(--font-mono);
}

/* Focus ring using primary color at 60% opacity */
:focus-visible {
  outline: 2px solid color-mix(in srgb, var(--color-primary) 60%, transparent);
  outline-offset: 2px;
}

/* Remove focus outline from SVG interactive elements */
svg path[role="button"],
svg circle[role="button"],
svg path[tabindex="0"],
svg circle[tabindex="0"] {
  outline: none;
}

svg path[role="button"]:focus,
svg circle[role="button"]:focus,
svg path[tabindex="0"]:focus,
svg circle[tabindex="0"]:focus,
svg path[role="button"]:focus-visible,
svg circle[role="button"]:focus-visible,
svg path[tabindex="0"]:focus-visible,
svg circle[tabindex="0"]:focus-visible {
  outline: none;
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* Animations for PersonalAssistantView */
@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes slideUp {
  from {
    transform: translateY(100%);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

/* Animation for SuggestionCard */
@keyframes cardAppear {
  from {
    opacity: 0;
    transform: scale(0.95) translateY(-8px);
  }
  to {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

/* Mobile modal animation - slide from bottom */
@keyframes slideUpFromBottom {
  from {
    transform: translateY(100%);
  }
  to {
    transform: translateY(0);
  }
}

/* Mobile modal styles */
@media (max-width: 767px) {
  .modal-mobile-fullscreen {
    position: fixed !important;
    inset: 0 !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    z-index: var(--z-modal);
    padding: 0 !important;
  }

  .modal-mobile-fullscreen .modal-box {
    width: 100% !important;
    height: 100% !important;
    max-width: 100% !important;
    max-height: 100% !important;
    margin: 0 !important;
    border-radius: 0 !important;
    animation: slideUpFromBottom 0.3s ease-out;
    display: flex !important;
    flex-direction: column !important;
  }
}

/* CircularTimelineCss Component Styles */
.timeline-container {
  position: relative;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  background: transparent;
  border-radius: 50%;
  overflow: visible;
}

.timeline-svg {
  width: 100%;
  height: 100%;
  max-width: 100%;
  max-height: 100%;
}

.event-arc {
  cursor: pointer;
  outline: none;
  transition:
    stroke-width 0.2s ease,
    stroke-opacity 0.2s ease;
}

.event-arc:focus,
.event-arc:focus-visible {
  outline: none;
}

.event-arc:hover {
  stroke-width: 5 !important;
  stroke-opacity: 1 !important;
}

.event-arc.all-day:hover {
  stroke-width: 3 !important;
}

.gap-arc {
  cursor: pointer;
  outline: none;
  transition: stroke-width 0.2s ease;
}

.gap-arc:focus,
.gap-arc:focus-visible {
  outline: none;
}

.gap-arc:hover {
  stroke-width: 4;
}

.suggestion-arc {
  cursor: pointer;
  outline: none;
  transition: stroke-width 0.2s ease;
}

.suggestion-arc:focus,
.suggestion-arc:focus-visible {
  outline: none;
}

.suggestion-arc:hover {
  stroke-width: 4 !important;
}

.resize-handle {
  cursor: ns-resize;
  outline: none;
  transition: r 0.15s ease;
}

.resize-handle:focus,
.resize-handle:focus-visible {
  outline: none;
}

.resize-handle:hover {
  r: 1.8;
}

@media (max-width: 768px) {
  .event-arc {
    stroke-width: 2.5;
  }
  .event-arc.all-day {
    stroke-width: 1.5;
  }
  .suggestion-arc {
    stroke-width: 2;
  }
  .gap-arc {
    stroke-width: 2;
  }
}
